
# BillBoard_MMORPG Site  
### Техническое задание и общая информация о проекте  
В рамках проекта был реализован информационный интернет-ресурс, который может послужить прототипом для других аналогичных проектов. В данном случае  - для фанатов игры MMORPG.  
  
В проекте реализована возможность размещения категоризированных объявлений-заданий и комментариев к ним для зарегистрированных пользователей. На каждый комментарий автор объявления может реагировать - принимать, отклонять и сбрасывать статус.  
  
Настроены следующие e-mail оповещения-рассылки, которые выполняются асинхронно:  
  
 - **для пользователей сайта** ( `*` - с возможностью отключения в профиле):  
   - на приветствие при регистрации и подтверждении аккаунта (`*`);  
   - на размещение нового отлика для объявления его автору (`*`);  
   - на публикацию статьи в новостной ленте (`*`);  
   - на добавление/отклонение в группу авторов статей инициатору заявки;  
    
 - **для администраторов и модераторов сайта:**  
  - запрос от пользователя на возможность размещения статей в ленте;  
  
### Используются основные инструменты:  
- фреймворк Django;  
- хранение данных -  PostgreSQL;  
- регистрация/авторизация через email или социальные сети - allauth (подтверждение через OTP);  
- асинхронное выполнение задач - Celery+Redis; 
- обработка фотоконтента - библиотека Pillow;
- встроенный WYSIWYG-редактор - CKEditor;
- оптимизация сайта - Django Debug Toolbar;
  
### Этапы запуска и настройки проекта (OS -  Ubuntu 20.04 LTS):  
  
 1. Склонируйте проект с GitHub локально и перейдите в папку "BillBoard_mmorpg":  
```  
git clone https://github.com/TimurSuvorov/BillBoard_mmorpg.git cd BillBoard_mmorpg  
```  
 2. Создайте виртуальное окружение для проекта и установите необходимые пакеты из файла *billboardsite/requirements.txt*:  
```  
python3 -m virtualenv venvBillboard  
source venvBillboard/bin/activate  
pip install -r billboardsite/requirements.txt  
```  
 3. Установите сервер Redis в Вашей OS:  
```  
sudo apt-get update  
sudo apt-get install redis  
```  
 4. Произведите установку и настройку PostgreSQL [по инструкции](https://github.com/TimurSuvorov/BillBoard_mmorpg/blob/master/README_PostgreSQL.md)  
 5. В файле *billboardsite/.env* замените шаблонное значение *DJANGO_SECRET_KEY* - на уникальный ключ  
 6. Отправка e-mail писем происходит с помощью Yandex. Для этого:  
    - выполните предварительные настройки: https://yandex.ru/support/mail/mail-clients/others.html  
    - в файле *billboardsite/.env* замените шаблонные значения:  
       - *yandex_EMAIL_HOST_USER* - имя пользователя (до @ в адресе)  
       - *yandex_EMAIL_HOST_PASSWORD* - пароль приложения  
 7. Теперь запустите всё необходимое в отдельных консольных окнах:  
   - сервер Redis: ```redis-server```  
 - сервер PostgreSQL <sub>(уже должен работать)</sub>: ```sudo service postgresql start```  
 - [!] Запуск воркера Celery из каталога проекта *billboardsite/*: ```celery -A billboardsite worker -l INFO```  
 - [!] Запуск Django-проекта из каталога проекта *billboardsite/*: ```python manage.py runserver```  

*[!] - убедитесь, что у Вас активировано виртуальное окружение